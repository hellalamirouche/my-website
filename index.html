
<html><head><base href="https://github.com/webrtc/"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>WebRTC AI Conference Hub</title><style>
:root {
  --primary-color: #4a90e2;
  --secondary-color: #f5a623;
  --background-color: #f7f9fc;
  --card-color: #ffffff;
  --text-color: #333333;
  --accent-color: #50e3c2;
}
body { font-family: 'Poppins', sans-serif; margin: 0; padding: 0; background-color: var(--background-color); color: var(--text-color); }
.header { background-color: var(--primary-color); color: white; padding: 20px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
.container { max-width: 1200px; margin: 0 auto; padding: 20px; }
.card { background-color: var(--card-color); border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 20px; overflow: hidden; transition: transform 0.3s ease; }
.card:hover { transform: translateY(-5px); }
.card-header { background-color: var(--primary-color); color: white; padding: 15px; font-size: 18px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
.card-content { padding: 20px; }
.btn { background-color: var(--accent-color); color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; transition: background-color 0.3s, transform 0.3s; }
.btn:hover { background-color: #3cc7a5; transform: scale(1.05); }
#videoContainer { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
.videoWrapper { position: relative; width: 100%; padding-top: 75%; /* 4:3 Aspect Ratio */ }
video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: #ddd; border-radius: 8px; object-fit: cover; }
.controls { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; }
.control-btn { background-color: rgba(0,0,0,0.5); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; transition: background-color 0.3s, transform 0.3s; }
.control-btn:hover { background-color: rgba(0,0,0,0.7); transform: scale(1.1); }
#chatContainer { height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; border-radius: 8px; }
#chatInput { width: calc(100% - 100px); padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
#sendChat { width: 80px; }
.ai-features { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }
.ai-feature { background-color: var(--card-color); padding: 20px; border-radius: 8px; text-align: center; transition: transform 0.3s ease; }
.ai-feature:hover { transform: translateY(-5px); }
.ai-icon { font-size: 40px; margin-bottom: 10px; color: var(--secondary-color); }
#transcriptContainer { height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; margin-top: 20px; border-radius: 8px; }
.options-panel { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 20px; }
.option-btn { background-color: var(--secondary-color); color: white; border: none; padding: 10px 15px; border-radius: 20px; cursor: pointer; transition: background-color 0.3s, transform 0.3s; }
.option-btn:hover { background-color: #e09600; transform: scale(1.05); }
#participantCount { font-size: 16px; color: white; }
#inviteForm { margin-top: 20px; }
#inviteEmail { width: calc(100% - 120px); padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
#sendInvite { width: 100px; }
.participant-name { position: absolute; bottom: 50px; left: 10px; background-color: rgba(0,0,0,0.5); color: white; padding: 5px 10px; border-radius: 4px; }
.new-participant { border: 3px solid var(--accent-color); animation: pulse 2s infinite; }
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(80, 227, 194, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(80, 227, 194, 0); }
  100% { box-shadow: 0 0 0 0 rgba(80, 227, 194, 0); }
}
#newParticipantBar { 
  position: fixed; 
  bottom: 0; 
  left: 0; 
  width: 100%; 
  background-color: var(--primary-color); 
  color: white; 
  padding: 10px; 
  display: none; 
  align-items: center;
  justify-content: space-between;
}
#newParticipantVideo {
  width: 100px;
  height: 75px;
  object-fit: cover;
  border-radius: 4px;
  margin-right: 10px;
}
</style></head><body>
<div class="header">
  <h1>WebRTC AI Conference Hub</h1>
</div>
<div class="container">
  <div class="card">
    <div class="card-header">
      <span>AI-Enhanced Conference Room</span>
      <span id="participantCount">Participants: 1</span>
    </div>
    <div class="card-content">
      <div id="videoContainer">
        <div class="videoWrapper">
          <video id="localVideo" autoplay muted playsinline></video>
          <div class="participant-name">You</div>
          <div class="controls">
            <button class="control-btn" onclick="toggleAudio()">üé§</button>
            <button class="control-btn" onclick="toggleVideo()">üìπ</button>
            <button class="control-btn" onclick="startScreenShare()">üñ•Ô∏è</button>
            <button class="control-btn" onclick="toggleAIBackground()">üé≠</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header">AI-Powered Communication Hub</div>
    <div class="card-content">
      <div id="chatContainer"></div>
      <input type="text" id="chatInput" placeholder="Type your message or command for AI assistant...">
      <button class="btn" id="sendChat" onclick="sendAIEnhancedMessage()">Send</button>
      <div class="options-panel">
        <button class="option-btn" onclick="requestAISummary()">Request AI Summary</button>
        <button class="option-btn" onclick="toggleAutoTranslation()">Toggle Auto-Translation</button>
        <button class="option-btn" onclick="analyzeGroupDynamics()">Analyze Group Dynamics</button>
        <button class="option-btn" onclick="generateActionItems()">Generate Action Items</button>
      </div>
      <div id="transcriptContainer"></div>
    </div>
  </div>
  <div class="card">
    <div class="card-header">Invite Participants</div>
    <div class="card-content">
      <form id="inviteForm">
        <input type="email" id="inviteEmail" placeholder="Enter participant's email" required>
        <button type="submit" class="btn" id="sendInvite">Send Invite</button>
      </form>
    </div>
  </div>
</div>

<div id="newParticipantBar">
  <span>New Participant Joining</span>
  <video id="newParticipantVideo" autoplay playsinline></video>
</div>

<script>
let localStream;
let screenStream;
let peerConnections = {};
let isAudioMuted = false;
let isVideoOff = false;
let isAIBackgroundOn = false;
let isAutoTranslationOn = false;
let participantCount = 1;

async function startAIConferenceHub() {
  try {
    localStream = await navigator.mediaDevices.getUserMedia({
      video: { width: 1280, height: 720 },
      audio: { noiseSuppression: true, echoCancellation: true }
    });
    document.getElementById('localVideo').srcObject = localStream;
    
    console.log("Connected to AI-powered signaling server");
    
    initializeAIFeatures();
    updateParticipantCount(participantCount);
  } catch (err) {
    console.error("Error starting AI Conference Hub:", err);
  }
}

function updateParticipantCount(count) {
  participantCount = count;
  document.getElementById('participantCount').textContent = `Participants: ${participantCount}`;
}

function initializeAIFeatures() {
  console.log("Initializing advanced AI features...");
  startAdaptiveNoiseCancellation();
  initializeMultilingualTranslation();
  beginSmartTranscription();
  activateEmotionAnalysis();
  launchAIMeetingAssistant();
}

function startAdaptiveNoiseCancellation() {
  console.log("Adaptive AI noise cancellation activated");
}

function initializeMultilingualTranslation() {
  console.log("Multilingual real-time translation system online");
}

function beginSmartTranscription() {
  setInterval(() => {
    const transcript = document.getElementById('transcriptContainer');
    const transcriptText = document.createElement('p');
    transcriptText.textContent = `[AI Transcription]: Waiting for participants to join and start the conversation.`;
    transcript.appendChild(transcriptText);
    transcript.scrollTop = transcript.scrollHeight;
  }, 10000);
}

function activateEmotionAnalysis() {
  console.log("Emotion and engagement analysis module activated");
}

function launchAIMeetingAssistant() {
  console.log("AI Meeting Assistant is now online and ready to assist");
}

function toggleAudio() {
  isAudioMuted = !isAudioMuted;
  localStream.getAudioTracks().forEach(track => track.enabled = !isAudioMuted);
  updateControlButtonState('audio', isAudioMuted);
}

function toggleVideo() {
  isVideoOff = !isVideoOff;
  localStream.getVideoTracks().forEach(track => track.enabled = !isVideoOff);
  updateControlButtonState('video', isVideoOff);
}

function updateControlButtonState(control, isOff) {
  const button = document.querySelector(`.control-btn:nth-child(${control === 'audio' ? 1 : 2})`);
  button.textContent = isOff ? (control === 'audio' ? 'üîá' : 'üö´') : (control === 'audio' ? 'üé§' : 'üìπ');
}

async function startScreenShare() {
  try {
    screenStream = await navigator.mediaDevices.getDisplayMedia({ video: true });
    const videoTrack = screenStream.getVideoTracks()[0];
    
    Object.values(peerConnections).forEach(pc => {
      const sender = pc.getSenders().find(s => s.track.kind === 'video');
      sender.replaceTrack(videoTrack);
    });
    
    document.getElementById('localVideo').srcObject = screenStream;
    
    videoTrack.onended = () => {
      Object.values(peerConnections).forEach(pc => {
        const sender = pc.getSenders().find(s => s.track.kind === 'video');
        sender.replaceTrack(localStream.getVideoTracks()[0]);
      });
      document.getElementById('localVideo').srcObject = localStream;
    };

    const chatContainer = document.getElementById('chatContainer');
    const screenShareMessage = document.createElement('p');
    screenShareMessage.textContent = "System: You started sharing your screen. All participants can now see your screen.";
    chatContainer.appendChild(screenShareMessage);
    chatContainer.scrollTop = chatContainer.scrollHeight;
  } catch (err) {
    console.error("Error starting AI-enhanced screen share:", err);
  }
}

function toggleAIBackground() {
  isAIBackgroundOn = !isAIBackgroundOn;
  console.log(isAIBackgroundOn ? "Context-aware AI background activated" : "Context-aware AI background deactivated");
  const chatContainer = document.getElementById('chatContainer');
  const aiBackgroundMessage = document.createElement('p');
  aiBackgroundMessage.textContent = `System: ${isAIBackgroundOn ? "AI-powered dynamic background activated. Your background will now adapt to the conversation context." : "AI-powered dynamic background deactivated. Your original background is now visible."}`;
  chatContainer.appendChild(aiBackgroundMessage);
  chatContainer.scrollTop = chatContainer.scrollHeight;
}

function sendAIEnhancedMessage() {
  const chatInput = document.getElementById('chatInput');
  const message = chatInput.value.trim();
  if (message) {
    const chatContainer = document.getElementById('chatContainer');
    const messageElement = document.createElement('p');
    messageElement.textContent = `You: ${message}`;
    chatContainer.appendChild(messageElement);
    chatContainer.scrollTop = chatContainer.scrollHeight;
    chatInput.value = '';
    
    // AI Assistant response
    setTimeout(() => {
      const aiResponse = document.createElement('p');
      aiResponse.textContent = `AI Assistant: Thank you for your message. I'm here to assist you with the conference. Once other participants join, we can start collaborating and I'll provide more contextual assistance.`;
      chatContainer.appendChild(aiResponse);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }, 1000);
  }
}

function requestAISummary() {
  console.log("Generating AI-powered meeting summary...");
  const summaryElement = document.createElement('p');
  summaryElement.textContent = `AI Summary: The conference has not started yet. Waiting for participants to join. Once the meeting begins, I'll provide comprehensive summaries of the discussions and decisions made.`;
  document.getElementById('chatContainer').appendChild(summaryElement);
}

function toggleAutoTranslation() {
  isAutoTranslationOn = !isAutoTranslationOn;
  console.log(isAutoTranslationOn ? "Auto-translation activated" : "Auto-translation deactivated");
  const chatContainer = document.getElementById('chatContainer');
  const translationMessage = document.createElement('p');
  translationMessage.textContent = `System: ${isAutoTranslationOn ? "Real-time translation is now active. Messages will be automatically translated when participants join." : "Real-time translation has been deactivated."}`;
  chatContainer.appendChild(translationMessage);
  chatContainer.scrollTop = chatContainer.scrollHeight;
}function analyzeGroupDynamics() {
  console.log("Analyzing group dynamics and participant engagement...");
  const analysisElement = document.createElement('p');
  analysisElement.textContent = `AI Analysis: Currently, there's only one participant in the conference. Group dynamics analysis will be available once more participants join the meeting.`;
  document.getElementById('chatContainer').appendChild(analysisElement);
}

function generateActionItems() {
  console.log("Generating AI-recommended action items...");
  const actionItemsElement = document.createElement('p');
  actionItemsElement.textContent = `AI-Generated Action Items:
1. Invite participants to join the conference
2. Prepare your agenda for the meeting
3. Test your audio and video settings
4. Review any documents or materials you want to share during the conference
5. Once participants join, we can start generating more specific action items based on the meeting's content and discussions.`;
  document.getElementById('chatContainer').appendChild(actionItemsElement);
}

document.getElementById('inviteForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const email = document.getElementById('inviteEmail').value;
  const chatContainer = document.getElementById('chatContainer');
  const inviteMessage = document.createElement('p');
  inviteMessage.textContent = `System: Invitation sent to ${email}. Waiting for them to join the conference.`;
  chatContainer.appendChild(inviteMessage);
  chatContainer.scrollTop = chatContainer.scrollHeight;
  document.getElementById('inviteEmail').value = '';
  
  // Simulate new participant joining after a short delay
  setTimeout(() => {
    showNewParticipantBar(email);
  }, 3000);
});

function showNewParticipantBar(participantEmail) {
  const newParticipantBar = document.getElementById('newParticipantBar');
  const newParticipantVideo = document.getElementById('newParticipantVideo');
  
  // Simulate a video stream for the new participant
  navigator.mediaDevices.getUserMedia({ video: true, audio: false })
    .then(stream => {
      newParticipantVideo.srcObject = stream;
      newParticipantBar.style.display = 'flex';
      
      // Update participant count
      updateParticipantCount(participantCount + 1);
      
      // Add new participant to the video container
      addNewParticipantVideo(participantEmail);
      
      // Hide the new participant bar after 5 seconds
      setTimeout(() => {
        newParticipantBar.style.display = 'none';
        stream.getTracks().forEach(track => track.stop());
      }, 5000);
    })
    .catch(err => {
      console.error("Error simulating new participant video:", err);
      newParticipantBar.style.display = 'flex';
      setTimeout(() => {
        newParticipantBar.style.display = 'none';
      }, 5000);
    });
}

function addNewParticipantVideo(participantEmail) {
  const videoContainer = document.getElementById('videoContainer');
  const videoWrapper = document.createElement('div');
  videoWrapper.className = 'videoWrapper new-participant';
  
  const video = document.createElement('video');
  video.autoplay = true;
  video.playsinline = true;
  
  const participantNameDiv = document.createElement('div');
  participantNameDiv.className = 'participant-name';
  participantNameDiv.textContent = participantEmail;
  
  videoWrapper.appendChild(video);
  videoWrapper.appendChild(participantNameDiv);
  videoContainer.appendChild(videoWrapper);
  
  // Simulate video stream
  navigator.mediaDevices.getUserMedia({ video: true, audio: false })
    .then(stream => {
      video.srcObject = stream;
    })
    .catch(err => {
      console.error("Error simulating participant video:", err);
    });
  
  // Remove 'new-participant' class after animation
  setTimeout(() => {
    videoWrapper.classList.remove('new-participant');
  }, 5000);
}

// Initialize the conference hub when the page loads
window.onload = startAIConferenceHub;

</script>
</body></html>
