
<html><head><base href="https://visio.ai/%20create%20fonctional%20page%20Multi-User%20Broadcasting"><title>Visio - Multi-User Broadcasting</title>
<style>
  body {
    font-family: 'Roboto', sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    background-color: #f4f7f9;
    color: #333;
  }
  header {
    background-color: #2c3e50;
    color: white;
    text-align: center;
    padding: 1rem 0;
  }
  nav {
    background-color: #34495e;
    padding: 0.5rem 0;
  }
  nav ul {
    list-style-type: none;
    padding: 0;
    display: flex;
    justify-content: center;
    margin: 0;
  }
  nav ul li {
    margin: 0 1rem;
  }
  nav ul li a {
    color: white;
    text-decoration: none;
    font-weight: 500;
  }
  main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
  }
  .broadcast-container {
    display: grid;
    grid-template-columns: 3fr 1fr;
    gap: 1rem;
    margin-bottom: 2rem;
  }
  .video-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
  }
  .video-container {
    background-color: #000;
    border-radius: 8px;
    overflow: hidden;
  }
  video {
    width: 100%;
    height: auto;
  }
  .chat-container {
    background-color: white;
    border-radius: 8px;
    padding: 1rem;
    height: 400px;
    display: flex;
    flex-direction: column;
  }
  .chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    margin-bottom: 1rem;
  }
  .chat-input {
    display: flex;
  }
  .chat-input input {
    flex-grow: 1;
    padding: 0.5rem;
    border: 1px solid #ccc;
    border-radius: 4px 0 0 4px;
  }
  .chat-input button {
    padding: 0.5rem 1rem;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 0 4px 4px 0;
    cursor: pointer;
  }
  .controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }
  .control-btn {
    padding: 0.5rem 1rem;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  .control-btn:hover {
    background-color: #2980b9;
  }
</style>
</head>
<body>
<header>
  <h1>Visio - Multi-User Broadcasting</h1>
</header>
<nav>
  <ul>
    <li><a href="https://visio.ai/">Home</a></li>
    <li><a href="https://visio.ai/features">Features</a></li>
    <li><a href="https://visio.ai/pricing">Pricing</a></li>
    <li><a href="https://visio.ai/contact">Contact</a></li>
  </ul>
</nav>
<main>
  <div class="broadcast-container">
    <div class="video-grid">
      <div class="video-container">
        <video id="localVideo" autoplay muted playsinline></video>
      </div>
      <div class="video-container">
        <video id="remoteVideo1" autoplay playsinline></video>
      </div>
      <div class="video-container">
        <video id="remoteVideo2" autoplay playsinline></video>
      </div>
      <div class="video-container">
        <video id="remoteVideo3" autoplay playsinline></video>
      </div>
    </div>
    <div class="chat-container">
      <div class="chat-messages" id="chatMessages"></div>
      <div class="chat-input">
        <input type="text" id="chatInput" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>
  </div>
  <div class="controls">
    <button class="control-btn" id="startButton">Start Broadcasting</button>
    <button class="control-btn" id="stopButton">Stop Broadcasting</button>
    <button class="control-btn" id="muteButton">Mute Audio</button>
    <button class="control-btn" id="videoButton">Toggle Video</button>
  </div>
</main>

<script>
  let localStream;
  let peerConnections = {};
  const configuration = {
    iceServers: [{ urls: 'stun:stun.l.google.com:19302' }]
  };

  async function startBroadcasting() {
    try {
      localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
      document.getElementById('localVideo').srcObject = localStream;
      
      // Simulating peer connections
      for (let i = 1; i <= 3; i++) {
        const peerConnection = new RTCPeerConnection(configuration);
        peerConnections[`remote${i}`] = peerConnection;
        
        localStream.getTracks().forEach(track => {
          peerConnection.addTrack(track, localStream);
        });
        
        peerConnection.ontrack = (event) => {
          document.getElementById(`remoteVideo${i}`).srcObject = event.streams[0];
        };
        
        // Simulating ICE candidate exchange and connection establishment
        await simulateConnectionEstablishment(peerConnection, i);
      }
    } catch (error) {
      console.error('Error starting broadcast:', error);
    }
  }

  async function simulateConnectionEstablishment(peerConnection, index) {
    const offer = await peerConnection.createOffer();
    await peerConnection.setLocalDescription(offer);
    
    // Simulating signaling server exchange
    setTimeout(async () => {
      await peerConnection.setRemoteDescription(offer);
      const answer = await peerConnection.createAnswer();
      await peerConnection.setLocalDescription(answer);
      
      // Simulating ICE candidate exchange
      peerConnection.onicecandidate = (event) => {
        if (event.candidate) {
          console.log(`Sending ICE candidate to remote${index}`);
        }
      };
    }, 1000);
  }

  function stopBroadcasting() {
    localStream.getTracks().forEach(track => track.stop());
    document.getElementById('localVideo').srcObject = null;
    Object.values(peerConnections).forEach(pc => pc.close());
    peerConnections = {};
  }

  function toggleAudio() {
    const audioTrack = localStream.getAudioTracks()[0];
    audioTrack.enabled = !audioTrack.enabled;
    document.getElementById('muteButton').textContent = audioTrack.enabled ? 'Mute Audio' : 'Unmute Audio';
  }

  function toggleVideo() {
    const videoTrack = localStream.getVideoTracks()[0];
    videoTrack.enabled = !videoTrack.enabled;
    document.getElementById('videoButton').textContent = videoTrack.enabled ? 'Disable Video' : 'Enable Video';
  }

  function sendMessage() {
    const input = document.getElementById('chatInput');
    const message = input.value.trim();
    if (message) {
      const chatMessages = document.getElementById('chatMessages');
      const messageElement = document.createElement('p');
      messageElement.textContent = `You: ${message}`;
      chatMessages.appendChild(messageElement);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      input.value = '';
      
      // Simulating message broadcast to other participants
      setTimeout(() => {
        const remoteMessage = document.createElement('p');
        remoteMessage.textContent = `Remote User: Thanks for your message!`;
        chatMessages.appendChild(remoteMessage);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }, 1000);
    }
  }

  document.getElementById('startButton').addEventListener('click', startBroadcasting);
  document.getElementById('stopButton').addEventListener('click', stopBroadcasting);
  document.getElementById('muteButton').addEventListener('click', toggleAudio);
  document.getElementById('videoButton').addEventListener('click', toggleVideo);
  document.getElementById('chatInput').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') sendMessage();
  });
</script>
</body></html>
